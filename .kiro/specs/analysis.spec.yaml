name: Code Analysis Engine
version: 1.0.0
description: AST parsing and function extraction system for multi-language code analysis

requirements:
  - id: REQ-101
    description: Detect programming language from code snippet
    priority: high
    
  - id: REQ-102
    description: Parse Python code into AST
    priority: high
    
  - id: REQ-103
    description: Parse JavaScript/TypeScript code into AST
    priority: high
    
  - id: REQ-104
    description: Parse Rust code into AST
    priority: high
    
  - id: REQ-105
    description: Parse Go code into AST
    priority: high
    
  - id: REQ-106
    description: Extract function signatures from all languages
    priority: high
    
  - id: REQ-107
    description: Extract data structures and types
    priority: high
    
  - id: REQ-108
    description: Identify IO operations (file, network, stdio)
    priority: medium

design:
  parsers:
    python:
      library: ast (built-in Python module)
      fallback: tree-sitter-python
      
    javascript:
      library: "@babel/parser"
      typescript: "@typescript-eslint/parser"
      
    rust:
      library: syn (via WASM or subprocess)
      fallback: tree-sitter-rust
      
    go:
      library: go/parser (via subprocess)
      fallback: tree-sitter-go

  extraction_targets:
    - Function definitions (name, params, return type)
    - Class/struct definitions
    - Import/export statements
    - Global variables
    - Type definitions
    - IO operations

  output_format:
    language: string
    functions:
      - name: string
        params: array
        return_type: string
        line_start: number
        line_end: number
    types:
      - name: string
        kind: enum [class, struct, interface, type_alias]
        fields: array
    imports: array
    exports: array
    io_operations: array

tasks:
  - id: TASK-101
    description: Implement language detection using file extensions and heuristics
    requirements: [REQ-101]
    
  - id: TASK-102
    description: Build Python AST parser
    requirements: [REQ-102]
    
  - id: TASK-103
    description: Build JavaScript/TypeScript AST parser
    requirements: [REQ-103]
    
  - id: TASK-104
    description: Build Rust AST parser
    requirements: [REQ-104]
    
  - id: TASK-105
    description: Build Go AST parser
    requirements: [REQ-105]
    
  - id: TASK-106
    description: Implement function signature extractor
    requirements: [REQ-106]
    
  - id: TASK-107
    description: Implement type extractor
    requirements: [REQ-107]
    
  - id: TASK-108
    description: Implement IO operation detector
    requirements: [REQ-108]
